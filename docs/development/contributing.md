# è²¢ç»æŒ‡å—

æ„Ÿè¬æ‚¨å° ForceDesk å°ˆæ¡ˆçš„é—œæ³¨ï¼æˆ‘å€‘æ­¡è¿æ‰€æœ‰å½¢å¼çš„è²¢ç»ã€‚

## ç›®éŒ„

- [è¡Œç‚ºæº–å‰‡](#è¡Œç‚ºæº–å‰‡)
- [å¦‚ä½•è²¢ç»](#å¦‚ä½•è²¢ç»)
- [é–‹ç™¼æµç¨‹](#é–‹ç™¼æµç¨‹)
- [ç¨‹å¼ç¢¼è¦ç¯„](#ç¨‹å¼ç¢¼è¦ç¯„)
- [æäº¤è¦ç¯„](#æäº¤è¦ç¯„)

## è¡Œç‚ºæº–å‰‡

### æˆ‘å€‘çš„æ‰¿è«¾

ç‚ºäº†ç‡Ÿé€ é–‹æ”¾å’Œå‹å–„çš„ç’°å¢ƒï¼Œæˆ‘å€‘æ‰¿è«¾ï¼š

- å°Šé‡ä¸åŒçš„è§€é»å’Œç¶“é©—
- æ¥å—å»ºè¨­æ€§çš„æ‰¹è©•
- å°ˆæ³¨æ–¼å°ç¤¾ç¾¤æœ€æœ‰åˆ©çš„äº‹æƒ…
- å°å…¶ä»–ç¤¾ç¾¤æˆå“¡å±•ç¾åŒç†å¿ƒ

### ä¸è¢«æ¥å—çš„è¡Œç‚º

- ä½¿ç”¨æ€§åˆ¥åŒ–çš„èªè¨€æˆ–åœ–åƒ
- äººèº«æ”»æ“Šæˆ–æ”¿æ²»æ”»æ“Š
- å…¬é–‹æˆ–ç§ä¸‹é¨·æ“¾
- æœªç¶“è¨±å¯ç™¼å¸ƒä»–äººçš„ç§äººè³‡è¨Š

## å¦‚ä½•è²¢ç»

### å›å ± Bug

ç™¼ç¾ Bug æ™‚ï¼Œè«‹ï¼š

1. ç¢ºèªè©² Bug å°šæœªè¢«å›å ±ï¼ˆæœå°‹ Issuesï¼‰
2. å»ºç«‹æ–°çš„ Issueï¼ŒåŒ…å«ï¼š
   - æ¸…æ¥šçš„æ¨™é¡Œ
   - è©³ç´°çš„é‡ç¾æ­¥é©Ÿ
   - é æœŸè¡Œç‚º vs å¯¦éš›è¡Œç‚º
   - ç’°å¢ƒè³‡è¨Šï¼ˆmacOS ç‰ˆæœ¬ã€ForceDesk ç‰ˆæœ¬ï¼‰
   - è¢å¹•æˆªåœ–ï¼ˆå¦‚é©ç”¨ï¼‰

**Bug å›å ±ç¯„æœ¬ï¼š**
```markdown
## Bug æè¿°
æ¸…æ¥šç°¡æ½”åœ°æè¿°å•é¡Œ

## é‡ç¾æ­¥é©Ÿ
1. é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼
2. é»æ“Š '...'
3. è§€å¯Ÿåˆ°éŒ¯èª¤

## é æœŸè¡Œç‚º
æ‡‰è©²è¦...

## å¯¦éš›è¡Œç‚º
ä½†å»...

## ç’°å¢ƒ
- macOS ç‰ˆæœ¬ï¼š14.0
- ForceDesk ç‰ˆæœ¬ï¼š1.0.0

## è¢å¹•æˆªåœ–
ï¼ˆå¦‚æœ‰ï¼‰
```

### æè­°æ–°åŠŸèƒ½

æƒ³è¦æ–°å¢åŠŸèƒ½æ™‚ï¼Œè«‹ï¼š

1. å»ºç«‹ Feature Request Issue
2. èªªæ˜åŠŸèƒ½çš„ç”¨é€”å’Œåƒ¹å€¼
3. æè¿°å¯èƒ½çš„å¯¦ä½œæ–¹å¼
4. ç­‰å¾…ç¶­è­·è€…å›æ‡‰å¾Œå†é–‹å§‹é–‹ç™¼

**åŠŸèƒ½æè­°ç¯„æœ¬ï¼š**
```markdown
## åŠŸèƒ½æè¿°
æ¸…æ¥šæè¿°æ‚¨æƒ³è¦çš„åŠŸèƒ½

## ä½¿ç”¨å ´æ™¯
é€™å€‹åŠŸèƒ½å¯ä»¥è§£æ±ºä»€éº¼å•é¡Œï¼Ÿ

## å¯èƒ½çš„å¯¦ä½œæ–¹å¼
ï¼ˆé¸å¡«ï¼‰æ‚¨èªç‚ºå¦‚ä½•å¯¦ä½œï¼Ÿ

## æ›¿ä»£æ–¹æ¡ˆ
ï¼ˆé¸å¡«ï¼‰é‚„æœ‰å…¶ä»–è§£æ±ºæ–¹æ³•å—ï¼Ÿ
```

### æ”¹é€²æ–‡ä»¶

æ–‡ä»¶æ”¹é€²æ°¸é æ­¡è¿ï¼åŒ…æ‹¬ï¼š

- ä¿®æ­£éŒ¯å­—æˆ–æ–‡æ³•éŒ¯èª¤
- æ”¹å–„èªªæ˜çš„æ¸…æ™°åº¦
- æ–°å¢ç¯„ä¾‹æˆ–æ•™å­¸
- ç¿»è­¯æ–‡ä»¶

## é–‹ç™¼æµç¨‹

### 1. Fork å°ˆæ¡ˆ

```bash
# Fork åˆ°æ‚¨çš„å¸³è™Ÿå¾Œ
git clone https://github.com/YOUR_USERNAME/forcedesk.git
cd forcedesk
```

### 2. å»ºç«‹åˆ†æ”¯

```bash
# å¾ main å»ºç«‹æ–°åˆ†æ”¯
git checkout -b feature/your-feature-name

# æˆ–æ˜¯ä¿® bug
git checkout -b fix/bug-description
```

**åˆ†æ”¯å‘½åè¦ç¯„ï¼š**
- `feature/` - æ–°åŠŸèƒ½
- `fix/` - Bug ä¿®å¾©
- `docs/` - æ–‡ä»¶æ›´æ–°
- `refactor/` - é‡æ§‹
- `style/` - æ¨£å¼èª¿æ•´
- `test/` - æ¸¬è©¦ç›¸é—œ

### 3. è¨­å®šé–‹ç™¼ç’°å¢ƒ

```bash
# å®‰è£ä¾è³´
npm install

# ç·¨è­¯ Electron
npx tsc -p tsconfig.electron.json

# å•Ÿå‹•é–‹ç™¼æ¨¡å¼
npm run dev:electron
```

### 4. é–‹ç™¼èˆ‡æ¸¬è©¦

- éµå¾ª[ç¨‹å¼ç¢¼è¦ç¯„](#ç¨‹å¼ç¢¼è¦ç¯„)
- æ–°å¢é©ç•¶çš„è¨»è§£ï¼ˆç¹é«”ä¸­æ–‡ï¼‰
- æ¸¬è©¦æ‚¨çš„è®Šæ›´
- ç¢ºä¿æ²’æœ‰ç ´å£ç¾æœ‰åŠŸèƒ½

### 5. æäº¤è®Šæ›´

```bash
# æª¢æŸ¥è®Šæ›´
git status
git diff

# åŠ å…¥è®Šæ›´
git add .

# æäº¤ï¼ˆéµå¾ªæäº¤è¦ç¯„ï¼‰
git commit -m "feat: æ–°å¢å¤©æ°£ Widget"
```

### 6. æ¨é€ä¸¦å»ºç«‹ Pull Request

```bash
# æ¨é€åˆ°æ‚¨çš„ fork
git push origin feature/your-feature-name
```

ç„¶å¾Œåˆ° GitHub å»ºç«‹ Pull Requestã€‚

## ç¨‹å¼ç¢¼è¦ç¯„

### TypeScript

```typescript
// âœ… å¥½çš„ç¯„ä¾‹
interface WeatherData {
  temperature: number;
  description: string;
  location: string;
}

export async function fetchWeather(): Promise<WeatherData> {
  // å¯¦ä½œ
}

// âŒ é¿å…
function fetchWeather(): any {
  // æ²’æœ‰å‹åˆ¥å®šç¾©
}
```

### è¨»è§£

```typescript
// âœ… ä½¿ç”¨ç¹é«”ä¸­æ–‡è¨»è§£
/**
 * å–å¾—å¤©æ°£è³‡æ–™
 * @returns å¤©æ°£è³‡è¨Šç‰©ä»¶
 */
export async function fetchWeather(): Promise<WeatherData> {
  // 1. å–å¾—ä½ç½®
  const location = await getLocation();

  // 2. å‘¼å« API
  const data = await callWeatherAPI(location);

  return data;
}

// âŒ é¿å…ç„¡æ„ç¾©çš„è¨»è§£
// å–å¾—è³‡æ–™
const data = getData(); // å–å¾—è³‡æ–™
```

### React å…ƒä»¶

```typescript
// âœ… å‡½æ•¸å¼å…ƒä»¶ + Hooks
export function Weather() {
  const [data, setData] = useState<WeatherData | null>(null);

  useEffect(() => {
    loadData();
  }, []);

  if (!data) return <Loading />;

  return <div className="weather">{/* ... */}</div>;
}

// âœ… ä½¿ç”¨ memo å„ªåŒ–æ•ˆèƒ½
export const Weather = React.memo(function Weather() {
  // ...
});
```

### CSS

```css
/* âœ… ä½¿ç”¨ CSS è®Šæ•¸ */
.weather {
  padding: var(--spacing-md);
  background: var(--color-glass);
  color: var(--color-text);
}

/* âœ… èªç¾©åŒ–é¡å */
.weather-temperature { }
.weather-description { }

/* âŒ é¿å… */
.w1 { }
.box { }
```

### æª”æ¡ˆçµæ§‹

```
æ–°åŠŸèƒ½æ‡‰è©²åŒ…å«ï¼š
âœ… src/components/YourWidget.tsx    # å…ƒä»¶
âœ… src/shared/types/your-widget.ts  # å‹åˆ¥
âœ… electron/modules/your-widget.ts  # å¾Œç«¯é‚è¼¯ï¼ˆå¦‚éœ€è¦ï¼‰
âœ… src/styles/components/your-widget.css  # æ¨£å¼ï¼ˆå¦‚éœ€è¦ï¼‰
```

## æäº¤è¦ç¯„

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

### æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type é¡å‹

- `feat` - æ–°åŠŸèƒ½
- `fix` - Bug ä¿®å¾©
- `docs` - æ–‡ä»¶æ›´æ–°
- `style` - ç¨‹å¼ç¢¼æ ¼å¼ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- `refactor` - é‡æ§‹
- `perf` - æ•ˆèƒ½å„ªåŒ–
- `test` - æ¸¬è©¦ç›¸é—œ
- `chore` - å»ºç½®æˆ–è¼”åŠ©å·¥å…·

### ç¯„ä¾‹

```bash
# æ–°å¢åŠŸèƒ½
git commit -m "feat(weather): æ–°å¢å¤©æ°£ Widget"

# ä¿®å¾© Bug
git commit -m "fix(todos): ä¿®æ­£å¾…è¾¦äº‹é …ç„¡æ³•è¼‰å…¥çš„å•é¡Œ"

# æ–‡ä»¶æ›´æ–°
git commit -m "docs(readme): æ›´æ–°å®‰è£èªªæ˜"

# é‡æ§‹
git commit -m "refactor(stocks): å°‡è‚¡å¸‚ API å‘¼å«æŠ½å–æˆç¨ç«‹å‡½æ•¸"
```

### è©³ç´°æäº¤è¨Šæ¯

```bash
git commit -m "feat(weather): æ–°å¢å¤©æ°£ Widget

æ–°å¢å¤©æ°£é¡¯ç¤ºåŠŸèƒ½ï¼ŒåŒ…å«ï¼š
- å³æ™‚æº«åº¦
- å¤©æ°£æè¿°
- ç©ºæ°£å“è³ªæŒ‡æ•¸ (AQI)
- è‡ªå‹•å®šä½

ä½¿ç”¨ Open-Meteo APIï¼Œæ¯ 15 åˆ†é˜æ›´æ–°ä¸€æ¬¡ã€‚
"
```

## Pull Request æµç¨‹

### PR æ¨™é¡Œ

éµå¾ªèˆ‡ commit ç›¸åŒçš„æ ¼å¼ï¼š
```
feat(weather): æ–°å¢å¤©æ°£ Widget
```

### PR æè¿°ç¯„æœ¬

```markdown
## è®Šæ›´é¡å‹
- [ ] æ–°åŠŸèƒ½
- [ ] Bug ä¿®å¾©
- [ ] æ–‡ä»¶æ›´æ–°
- [ ] é‡æ§‹
- [ ] å…¶ä»–

## è®Šæ›´èªªæ˜
æ¸…æ¥šæè¿°é€™å€‹ PR åšäº†ä»€éº¼

## ç›¸é—œ Issue
Closes #123

## æ¸¬è©¦
èªªæ˜å¦‚ä½•æ¸¬è©¦é€™äº›è®Šæ›´

## è¢å¹•æˆªåœ–
ï¼ˆå¦‚é©ç”¨ï¼‰

## Checklist
- [ ] ç¨‹å¼ç¢¼éµå¾ªå°ˆæ¡ˆè¦ç¯„
- [ ] å·²æ¸¬è©¦è®Šæ›´
- [ ] å·²æ›´æ–°ç›¸é—œæ–‡ä»¶
- [ ] Commit è¨Šæ¯éµå¾ªè¦ç¯„
```

### Code Review

ç¶­è­·è€…æœƒæª¢æŸ¥ï¼š

- ç¨‹å¼ç¢¼å“è³ª
- åŠŸèƒ½æ­£ç¢ºæ€§
- æ•ˆèƒ½å½±éŸ¿
- å®‰å…¨æ€§
- æ–‡ä»¶å®Œæ•´æ€§

è«‹è€å¿ƒç­‰å¾… reviewï¼Œä¸¦æ ¹æ“šå›é¥‹é€²è¡Œèª¿æ•´ã€‚

## é–‹ç™¼æç¤º

### å³æ™‚é‡è¼‰

ä¿®æ”¹å‰ç«¯ç¨‹å¼ç¢¼å¾Œæœƒè‡ªå‹•é‡è¼‰ï¼Œä½†ä¿®æ”¹ Electron ç¨‹å¼ç¢¼éœ€è¦ï¼š

```bash
npx tsc -p tsconfig.electron.json
# ç„¶å¾Œé‡å•Ÿæ‡‰ç”¨ç¨‹å¼
```

### é™¤éŒ¯

```typescript
// Main Process - è¼¸å‡ºåˆ°çµ‚ç«¯æ©Ÿ
console.log('[Debug] Value:', value);

// Renderer - è¼¸å‡ºåˆ° DevTools
console.log('[Debug] Component rendered');
```

### å¸¸è¦‹å•é¡Œ

**Q: ä¿®æ”¹å¾Œæ²’æœ‰æ•ˆæœï¼Ÿ**
- å‰ç«¯ï¼šç¢ºèªæ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯
- Electronï¼šç¢ºèªæ˜¯å¦é‡æ–°ç·¨è­¯ (`npx tsc -p tsconfig.electron.json`)

**Q: TypeScript ç·¨è­¯éŒ¯èª¤ï¼Ÿ**
- ç¢ºèªå‹åˆ¥å®šç¾©æ­£ç¢º
- æª¢æŸ¥ import è·¯å¾‘

**Q: IPC é€šè¨Šä¸é€šï¼Ÿ**
- ç¢ºèª preload.ts æœ‰æš´éœ² API
- ç¢ºèª main.ts æœ‰è¨»å†Š handler
- æª¢æŸ¥äº‹ä»¶åç¨±æ˜¯å¦ä¸€è‡´

## ç²å¾—å”åŠ©

- æŸ¥çœ‹[æ–‡ä»¶](../README.md)
- æœå°‹[ç¾æœ‰ Issues](https://github.com/YOUR_USERNAME/forcedesk/issues)
- å»ºç«‹æ–°çš„ Issue æå•

## æˆæ¬Š

æäº¤è²¢ç»å³è¡¨ç¤ºåŒæ„æ‚¨çš„ç¨‹å¼ç¢¼ä»¥ MIT License æˆæ¬Šã€‚

---

å†æ¬¡æ„Ÿè¬æ‚¨çš„è²¢ç»ï¼ ğŸ‰
